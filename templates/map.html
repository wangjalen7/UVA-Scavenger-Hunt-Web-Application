{% extends "base.html" %}
{% load static %}
{% block content %}
<!-- 
Title: Django Google Maps Tutorial #4: Placing Markers on a Map
URL: https://www.youtube.com/watch?v=sasx2ppol5c&t=685s -->
<!DOCTYPE html>
<style>
.mapholder{
    height: 500px;
    width: 100%;
}

#map{
    height: 100%;
}
</style>

    <script>
        let map;
        async function initMap(){

            var directionsService = new google.maps.DirectionsService();
            var directionsRenderer = new google.maps.DirectionsRenderer();
            
            map = new google.maps.Map(document.getElementById("map"), 
                {center:{lat: 38.0336, lng: -78.5080}, 
                zoom: 14,
            });

            // when the time comes to loop over the coordinates of the tasks we can do
            // locations.forEach(function (location)){, etc.
            // var latitude = {{ latitude }}; // showing as an error, but it ran the code?
            // var longitude = {{ longitude }};
            // var marker = new google.maps.Marker({
            //     position: {lat: latitude, lng: longitude}, 
            //     map: map, 
            //     title: "{{hint}}", 
            // });

            directionsRender.setMap(map);
        }
    
       // window.initMap = initMap
    </script>
<html>
<div class = "pageholder">
<h1>Here's Your Hint For "{{name}}"</h1> <br>
<!-- <p>Hover over the pin to see the hint!<p> -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

<div class = "linkholder">
    <div class="mapholder">
        <div id="map"> </div>
            <script async
                src="https://maps.googleapis.com/maps/api/js?key={{key}}&callback=initMap">
            </script>
    </div>
</div>
</div>
</html>

{% endblock %}